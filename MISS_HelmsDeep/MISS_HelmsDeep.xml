<mission_data version="1.0" background_id_arme="2e949b92-fa5c-4c26-a157-dae7b1b314d2" playerShipNames_arme="Artemis\Intrepid\Aegis\Horatio\Excalibur\Hera\Ceres\Diana">
  <start id_arme="2e949b92-fa5c-4c26-a157-dae7b1b314d2">
    <set_player_carried_type player_slot="0" bay_slot="0" raceKeys="TSN player" hullKeys="singleseat Shuttle" name="Red-5" />
    <create type="neutral" x="97652.0" y="0.0" z="97796.0" angle="0" name="Miner" raceKeys="TSN" hullKeys="Mine Layer" />
    <create count="100" type="asteroids" startX="100000.0" startY="0.0" startZ="0.0" endX="0.0" endY="0.0" endZ="100000.0" />
    <create count="150" type="mines" startX="100000.0" startY="500.0" startZ="80000.0" endX="80000.0" endY="500.0" endZ="100000.0" randomRange="25" />
    <create count="150" type="mines" startX="100000.0" startY="-500.0" startZ="80000.0" endX="80000.0" endY="-500.0" endZ="100000.0" randomRange="25" />
    <create type="player" player_slot="0" x="95182.0" y="0.0" z="93874.0" angle="0" sideValue="2" raceKeys="TSN" hullKeys="carrier" warp="yes" jump="no" />
    <create count="150" type="mines" startX="100000.0" startY="167.0" startZ="80000.0" endX="80000.0" endY="167.0" endZ="100000.0" randomRange="25" />
    <create type="player" player_slot="1" x="10000.0" y="0.0" z="20000.0" angle="0" sideValue="3" raceKeys="Pirate" hullKeys="Strongbow" warp="yes" jump="no" />
    <create count="150" type="mines" startX="100000.0" startY="-167.0" startZ="80000.0" endX="80000.0" endY="-167.0" endZ="100000.0" randomRange="25" />
    <create type="station" x="95182.0" y="0.0" z="93874.0" angle="0" name="Helms Deep" raceKeys="Terran" hullKeys="Command Base Base" />
    <create count="10" type="nebulas" startX="95327.0" startY="0.0" startZ="93874.0" endX="95327.0" endY="0.0" endZ="93874.0" />
    <set_difficulty_level value="5" />
    <set_variable name="MinerMines" value="25.0" integer="yes" />
    <set_skybox_index index="10" />
    <set_object_property property="nebulaIsOpaque" value="0" />
    <set_object_property property="sensorSetting" value="2" />
    <big_message title="Unnamed mission" subtitle1="by Unknown Author" subtitle2="adventure for Artemis 2.7.5" />
    <set_timer name="start_mission_timer_1" seconds="10" />
    <set_variable name="ReadyToCreateWall" value="1.0" integer="yes" />
    <set_object_property property="triggersMines" value="0.0" player_slot="0" />
    <start_getting_keypresses_from consoles="SF" />
    <create type="genericMesh" x="93148.0" y="0.0" z="95907.0" angle="0" name="Shield" meshFileName="dat\Missions\MISS_HelmsDeep\Object.dxs" textureFileName="dat/electricNoise2.png" fakeShieldsFront="1000" colorRed="1.0" colorGreen="0.0" colorBlue="1.0" />
    <set_object_property property="pushRadius" value="1000.0" name="Shield" />
    <set_object_property property="blocksShotFlag" value="1000.0" name="Shield" />
    <create type="enemy" x="88790.0" y="0.0" z="86610.0" angle="200" name="T1" raceKeys="Torgoth" hullKeys="large" fleetnumber="-1" />
    <create type="neutral" x="16732.0" y="0.0" z="12808.0" angle="0" raceKeys="Pirate" hullKeys="Strongbow" sideValue="3" />
    <create type="enemy" x="16296.0" y="0.0" z="21525.0" angle="0" raceKeys="Torgoth" hullKeys="large" fleetnumber="-1" />
    <create type="monster" monsterType="8" x="80000.0" y="0.0" z="60000.0" name="SG1" />
    <set_timer name="ResetKeys" seconds="30" />
  </start>
  <event name="Ship1 exists" id_arme="64982b23-719e-4d78-a74c-086ce6d8365c">
    <if_variable name="Ship1Configured" comparator="EQUALS" value="0.0" />
    <if_exists player_slot="1" />
    <set_object_property property="sideValue" value="3" player_slot="1" />
    <set_variable name="Ship1Configured" value="1.0" integer="yes" />
  </event>
  <event name="Miner exists" id_arme="b96e8f4e-ca54-4c1b-aa0a-0dde3129a6df">
    <if_variable name="MinerConfigured" comparator="EQUALS" value="0.0" />
    <if_exists name="Miner" />
    <set_object_property property="topSpeed" value="6.0" name="Miner" />
    <set_variable name="MinerConfigured" value="1.0" integer="yes" />
    <add_ai type="FOLLOW_COMMS_ORDERS" name="Miner" />
  </event>
  <event name="Put mines on a button" id_arme="8910f7e4-1cb5-4e8c-985c-ab8687e8d1e8">
    <if_variable name="MinerMines" comparator="NOT" value="MineCountDisplayed" />
    <set_comms_button text="Drop Mine" sideValue="2" />
    <set_comms_button text="Mines: |MinerMines|" sideValue="2" />
    <set_variable name="MineCountDisplayed" value="MinerMines" integer="yes" />
  </event>
  <event name="Drop mine" id_arme="a6b3acb9-8835-4a7e-af84-9293200f41cb">
    <if_variable name="MinerMines" comparator="GREATER" value="0.0" />
    <if_comms_button text="Drop Mine" />
    <get_object_property property="positionX" name="Miner" variable="MinerX" />
    <get_object_property property="positionY" name="Miner" variable="MinerY" />
    <get_object_property property="positionZ" name="Miner" variable="MinerZ" />
    <get_object_property property="angle" name="Miner" variable="MinerRadians" />
    <set_variable name="MinerDegrees" value="(MinerRadians * 57.2957795)" />
    <create count="1" type="mines" startAngle="MinerDegrees" endAngle="MinerDegrees" startX="MinerX" startY="MinerY" startZ="MinerZ" radius="1000" />
    <incoming_comms_text from="Miner" type="FRIEND">We have |MinerMines| remaining.</incoming_comms_text>
    <clear_comms_button text="Mines: |MinerMines|" sideValue="2" />
    <set_variable name="MinerMines" value="MinerMines-1" integer="yes" />
    <set_comms_button text="Mines: |MinerMines|" sideValue="2" />
  </event>
  <event name="SG1 scanned" id_arme="7c977483-744d-4d4a-a3ab-bf8972e4a5b4">
    <if_variable name="ProbeSucceeded" comparator="EQUALS" value="0.0" />
    <if_scan_level name="SG1" side="2" comparator="GREATER" value="0" />
    <set_variable name="ProbeSucceeded" value="1.0" integer="yes" />
    <incoming_comms_text from="SG1" sideValue="2" type="ALERT">Probe successful</incoming_comms_text>
  </event>
</mission_data>